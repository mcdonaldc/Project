/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package backend;

import java.io.BufferedWriter;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.OutputStreamWriter;
import java.io.Writer;
import java.util.ArrayList;


public class Database {
    private ArrayList<Assignment> database;
    
    public Database(){
        database = new ArrayList();
        
    }
    
    public void loadDB(){
        
    }
    
    public void saveDB(){
        
    	BufferedWriter writer = null;
    	
    	try{
    		writer = new BufferedWriter(new OutputStreamWriter(
    				new FileOutputStream("AssignmentDatabase.txt"), "utf-8"));
    		
    		for(Assignment a: database){
    			writer.write(a.name + "/" + a.date+ "/"+a.time+ "/"+a.description+"\n");
    			
    		}
    		
    	}
    	catch(IOException ex) {
    			//do something to cover the exception
    	}
    	finally {
    		try{
    			writer.close();
    		}
    		catch (Exception ex)
    		{
    			//do something
    		}
    	}
    }
    	
    
    
    public void addAssignment(Assignment assignment){
        database.add(assignment);
    }
    
    public Assignment getAssignment(Assignment assignment){
        if(isMatchAssignment(assignment))
        {
            return assignment;
        }
    }
    
    public void deleteAssignment(Assignment assignment){
        if(isMatchAssignment(assignment))
        {
            database.remove(assignment);
        }
    }
    
    private boolean isMatchAssignment(Assignment assignment){
        
        for(Assignment a: database)
        {
            if(assignment == a)
            {
                return true;
            }
            else
            {
                return false;
            }
        }
    }
    
    
}
